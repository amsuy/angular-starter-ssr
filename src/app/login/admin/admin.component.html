<div class="admin-dashboard">
  <!-- Sidebar fijo -->
  <div class="sidebar-admin">
    <img src="assets/img/logo.png" alt="Hospital Logo" class="logo" />

    <button (click)="cambiarVista('paciente')">ğŸ‘¨â€âš•ï¸ MÃ³dulo Pacientes</button>
    <button (click)="cambiarVista('doctor')">ğŸ©º MÃ³dulo Doctores</button>
    <button (click)="cambiarVista('citas')">ğŸ“… MÃ³dulo Citas</button>
    <button (click)="cambiarVista('login')">ğŸ” MÃ³dulo Login</button>
    <button (click)="limpiarPantalla()">ğŸ§¹ Refrescar Pantalla</button>
    <button (click)="cerrarSesion()">â¬… Cerrar SesiÃ³n</button>
  </div>

  <!-- Contenido dinÃ¡mico -->
  <div class="contenido-admin">
    <ng-container [ngSwitch]="vista">

      <!-- MÃ³dulo Paciente -->

      <div *ngSwitchCase="'paciente'">
        <div class="barra-citas-horizontal">
          <button class="btn-paciente-lateral" (click)="seccionPacientes = 'registrar'">ğŸ“„ Registrar Pacientes</button>
          <button class="btn-paciente-lateral" (click)="setSeccionPacientes('consultar')">ğŸ” Consultar
            Pacientes</button>
          <button class="btn-paciente-lateral" (click)="seccionPacientes = 'eliminar'">âŒ Eliminar Paciente</button>
          <button class="btn-paciente-lateral" (click)="seccionPacientes = 'restaurar'">â™»ï¸ Restaurar Paciente</button>
          <button class="btn-paciente-lateral" (click)="seccionPacientes = 'actualizar2'">ğŸ“‹ MenÃº Actualizar</button>
        </div>

        <div class="contenedor-citas-vista main-content">
          <ng-container [ngSwitch]="seccionPacientes">

            <!-- AQUÃ VAN TUS SECCIONES -->
            <!-- ejemplo -->
            <form *ngSwitchCase="'registrar'" (ngSubmit)="guardarPacienteDesdeAdmin()">
              <h2>ğŸ“„ Registrar Paciente</h2>
              <input type="text" placeholder="Nombre completo" [(ngModel)]="paciente.nombrecompleto"
                name="nombrecompleto" required />
              <input type="number" placeholder="Edad" [(ngModel)]="paciente.edad" name="edad" />
              <input type="number" placeholder="NIT" [(ngModel)]="paciente.nit" name="nit" required />
              <input type="number" placeholder="CUI" [(ngModel)]="paciente.cui" name="cui" required />
              <input type="text" placeholder="DirecciÃ³n" [(ngModel)]="paciente.direccion" name="direccion" />
              <input type="number" placeholder="TelÃ©fono" [(ngModel)]="paciente.telefono" name="telefono" />
              <button type="submit">ğŸ’¾ Guardar Paciente</button>
              <button type="button" (click)="limpiarCamposPaciente()">ğŸ§¹ Limpiar</button>
            </form>

            <div *ngIf="pacienteComponent.mensaje && pacienteComponent.mostrarMensaje" class="mensaje-exito fade-out">
              {{ pacienteComponent.mensaje }}
            </div>
            <div *ngIf="pacienteComponent.error && pacienteComponent.mostrarMensaje" class="mensaje-error fade-out">
              {{ pacienteComponent.error }}
            </div>

            <div *ngSwitchCase="'consultar'">
              <h2>ğŸ” Consultar Pacientes</h2>

              <!-- Filtros mÃºltiples -->
              <input type="number" placeholder="Buscar por ID de Paciente" [(ngModel)]="filtroIdPaciente"
                name="filtroIdPaciente" />
              <input type="text" placeholder="Buscar por NIT" [(ngModel)]="filtroNitPaciente"
                name="filtroNitPaciente" />
              <input type="text" placeholder="Buscar por CUI" [(ngModel)]="filtroCuiPaciente"
                name="filtroCuiPaciente" />
              <input type="text" placeholder="Buscar por Nombre" [(ngModel)]="filtroNombrePaciente"
                name="filtroNombrePaciente" />
              <input type="text" placeholder="Buscar por DirecciÃ³n" [(ngModel)]="filtroDireccionPaciente"
                name="filtroDireccionPaciente" />
              <input type="text" placeholder="Buscar por TelÃ©fono" [(ngModel)]="filtroTelefonoPaciente"
                name="filtroTelefonoPaciente" />
              <input type="date" [(ngModel)]="filtroFechaPaciente" name="filtroFechaPaciente" />


              <div class="botones-consulta">
                <button (click)="buscarPacientePorIdDesdeAdmin()">ğŸ” Buscar por ID</button>
                <button (click)="buscarPacientePorNit()">ğŸ” Buscar por NIT</button>
                <button (click)="buscarPacientePorCui()">ğŸ” Buscar por CUI</button>
                <button (click)="buscarPacientePorNombre()">ğŸ” Buscar por Nombre</button>
                <button (click)="buscarPacientePorDireccion()">ğŸ” Buscar por DirecciÃ³n</button>
                <button (click)="buscarPacientePorTelefono()">ğŸ” Buscar por TelÃ©fono</button>
                <button (click)="buscarPacientePorFecha()">ğŸ“… Buscar por Fecha</button>
                <button (click)="consultarPacientesDesdeAdmin()">ğŸ“‹ Ver Todos</button>
                <button (click)="limpiarConsultaPacientes()">ğŸ§¹ Limpiar</button>
              </div>


              <!-- Mensajes -->
              <div *ngIf="pacienteComponent.mensaje && pacienteComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ pacienteComponent.mensaje }}
              </div>
              <div *ngIf="pacienteComponent.error && pacienteComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ pacienteComponent.error }}
              </div>

              <!-- Tabla de pacientes -->
              <table *ngIf="pacientesMostrados.length > 0" class="tabla-citas">
                <thead>
                  <tr>
                    <th>ID Paciente</th>
                    <th>Nombre</th>
                    <th>Edad</th>
                    <th>NIT</th>
                    <th>CUI</th>
                    <th>DirecciÃ³n</th>
                    <th>TelÃ©fono</th>
                    <th>Fecha</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let p of pacientesMostrados">
                    <td>{{ p.idpaciente }}</td>
                    <td>{{ p.nombrecompleto }}</td>
                    <td>{{ p.edad }}</td>
                    <td>{{ p.nit }}</td>
                    <td>{{ p.cui }}</td>
                    <td>{{ p.direccion }}</td>
                    <td>{{ p.telefono }}</td>
                    <td>{{ p.fecha | date: 'dd/MM/yyyy' }}</td>

                  </tr>
                </tbody>
              </table>

              <div *ngIf="pacientesMostrados.length === 0 && pacienteComponent.mostrarPacientes" class="mensaje-error">
                âš ï¸ No se encontraron pacientes.
              </div>
            </div>

            <!-- SecciÃ³n: Eliminar Paciente -->
            <div *ngSwitchCase="'eliminar'">
              <h2>âŒ Eliminar Paciente</h2>
              <input type="number" placeholder="ID del paciente a eliminar" [(ngModel)]="filtroIdEliminarPaciente" />
              <div class="botones-consulta">
                <button (click)="eliminarPacienteDesdeAdmin()">ğŸ—‘ï¸ Eliminar</button>
                <button (click)="filtroIdEliminarPaciente = null">ğŸ§¹ Limpiar</button>
              </div>


            </div>

            <!-- SecciÃ³n: Restaurar Paciente -->
            <div *ngSwitchCase="'restaurar'">
              <h2>â™»ï¸ Restaurar Paciente</h2>
              <input type="number" placeholder="ID del paciente a restaurar" [(ngModel)]="filtroIdRestaurarPaciente" />
              <div class="botones-consulta">
                <button (click)="restaurarPacienteDesdeAdmin()">ğŸ”„ Restaurar</button>
                <button (click)="filtroIdRestaurarPaciente = null">ğŸ§¹ Limpiar</button>
              </div>


            </div>

            <!-- SecciÃ³n: MenÃº Actualizar Paciente -->
            <div *ngSwitchCase="'actualizar2'">
              <h2>ğŸ“‹ MenÃº de ActualizaciÃ³n Individual</h2>

              <div class="menu-actualizar-formulario">
                <div class="menu-actualizar-opciones">
                  <button class="menu-actualizar-btn" (click)="pacienteComponent.campoSeleccionado = 'nombre'">âœï¸
                    Nombre</button>
                  <button class="menu-actualizar-btn" (click)="pacienteComponent.campoSeleccionado = 'edad'">ğŸ‚
                    Edad</button>
                  <button class="menu-actualizar-btn" (click)="pacienteComponent.campoSeleccionado = 'direccion'">ğŸ¡
                    DirecciÃ³n</button>
                  <button class="menu-actualizar-btn" (click)="pacienteComponent.campoSeleccionado = 'nit'">ğŸ§¾
                    NIT</button>
                  <button class="menu-actualizar-btn" (click)="pacienteComponent.campoSeleccionado = 'cui'">ğŸ†”
                    CUI</button>
                  <button class="menu-actualizar-btn" (click)="pacienteComponent.campoSeleccionado = 'telefono'">ğŸ“
                    TelÃ©fono</button>
                </div>

                <!-- Campo: Nombre -->
                <div *ngIf="pacienteComponent.campoSeleccionado === 'nombre'">

                  <h3>ID Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.idActualizar" placeholder="ID del paciente" />
                  <h3>Nuevo Nombre Del Paciente</h3>
                  <input type="text" [(ngModel)]="pacienteComponent.nuevoValor" placeholder="Nuevo nombre" />
                  <button
                    (click)="pacienteComponent.actualizarNombre(pacienteComponent.idActualizar!, pacienteComponent.nuevoValor)">Actualizar
                    Nombre</button>
                  <button (click)="pacienteComponent.limpiarCampos()">Limpiar</button>
                </div>

                <!-- Campo: Edad -->
                <div *ngIf="pacienteComponent.campoSeleccionado === 'edad'">
                  <h3>ID Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.idActualizar" placeholder="ID del paciente" />
                  <h3>Nueva Edad Del Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.nuevoValor" placeholder="Nueva edad" />
                  <button
                    (click)="pacienteComponent.actualizarEdad(pacienteComponent.idActualizar!, pacienteComponent.nuevoValor)">Actualizar
                    Edad</button>
                  <button (click)="pacienteComponent.limpiarCampos()">Limpiar</button>
                </div>

                <!-- Campo: DirecciÃ³n -->
                <div *ngIf="pacienteComponent.campoSeleccionado === 'direccion'">
                  <h3>ID Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.idActualizar" placeholder="ID del paciente" />
                  <h3>Nueva Direccion Del Paciente</h3>
                  <input type="text" [(ngModel)]="pacienteComponent.nuevoValor" placeholder="Nueva direcciÃ³n" />
                  <button
                    (click)="pacienteComponent.actualizarDireccion(pacienteComponent.idActualizar!, pacienteComponent.nuevoValor)">Actualizar
                    DirecciÃ³n</button>
                  <button (click)="pacienteComponent.limpiarCampos()">Limpiar</button>
                </div>

                <!-- Campo: NIT -->
                <div *ngIf="pacienteComponent.campoSeleccionado === 'nit'">
                  <h3>ID Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.idActualizar" placeholder="ID del paciente" />
                  <h3>Nuevo Nit Del Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.nuevoValor" placeholder="Nuevo NIT" />
                  <button
                    (click)="pacienteComponent.actualizarNit(pacienteComponent.idActualizar!, pacienteComponent.nuevoValor)">Actualizar
                    NIT</button>
                  <button (click)="pacienteComponent.limpiarCampos()">Limpiar</button>
                </div>

                <!-- Campo: CUI -->
                <div *ngIf="pacienteComponent.campoSeleccionado === 'cui'">
                  <h3>ID Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.idActualizar" placeholder="ID del paciente" />
                  <h3>Nuevo Cui Del Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.nuevoValor" placeholder="Nuevo CUI" />
                  <button
                    (click)="pacienteComponent.actualizarCui(pacienteComponent.idActualizar!, pacienteComponent.nuevoValor)">Actualizar
                    CUI</button>
                  <button (click)="pacienteComponent.limpiarCampos()">Limpiar</button>
                </div>

                <!-- Campo: TelÃ©fono -->
                <div *ngIf="pacienteComponent.campoSeleccionado === 'telefono'">
                  <h3>ID Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.idActualizar" placeholder="ID del paciente" />
                  <h3>Nuevo Telefono Del Paciente</h3>
                  <input type="number" [(ngModel)]="pacienteComponent.nuevoValor" placeholder="Nuevo telÃ©fono" />
                  <button
                    (click)="pacienteComponent.actualizarTelefono(pacienteComponent.idActualizar!, pacienteComponent.nuevoValor)">Actualizar
                    TelÃ©fono</button>
                  <button (click)="pacienteComponent.limpiarCampos()">Limpiar</button>
                </div>

              </div>
            </div>






          </ng-container>
        </div>
      </div>



      <!-- MÃ³dulo Doctor -->
      <div *ngSwitchCase="'doctor'">
        <div class="barra-citas-horizontal">
          <button class="btn-paciente-lateral" (click)="seccionDoctor = 'registrar'">ğŸ“ Registrar Doctores</button>
          <button class="btn-paciente-lateral" (click)="seccionDoctor = 'consultar'">ğŸ” Consultar Doctores</button>
          <button class="btn-paciente-lateral" (click)="seccionDoctor = 'eliminar'">âŒ Eliminar Doctor</button>
          <button class="btn-paciente-lateral" (click)="seccionDoctor = 'restaurar'">â™»ï¸ Restaurar Doctor</button>
          <button class="btn-paciente-lateral" (click)="seccionDoctor = 'actualizar2'">ğŸ“‹ Menu Actualizar</button>
        </div>

        <div class="contenedor-citas-vista main-content">
          <ng-container [ngSwitch]="seccionDoctor">

            <!-- SecciÃ³n: Registrar -->
            <!-- SecciÃ³n: Registrar Doctor -->
            <div *ngSwitchCase="'registrar'">
              <h2>ğŸ“ Registrar Doctor</h2>

              <form (ngSubmit)="guardarDoctorDesdeAdmin()" #formDoctor="ngForm">
                <input type="text" placeholder="Colegiado" [(ngModel)]="doctor.colegiado" name="colegiado" required />
                <input type="text" placeholder="Nombre Completo" [(ngModel)]="doctor.nombrecompleto"
                  name="nombrecompleto" required />
                <input type="text" placeholder="Especialidad" [(ngModel)]="doctor.especialidad" name="especialidad"
                  required />
                <input type="text" placeholder="DirecciÃ³n" [(ngModel)]="doctor.direccion" name="direccion" />
                <input type="text" placeholder="Centro Hospitalario" [(ngModel)]="doctor.centrohospitalario"
                  name="centrohospitalario" />
                <input type="number" placeholder="Edad" [(ngModel)]="doctor.edad" name="edad" required />
                <input type="text" placeholder="ObservaciÃ³n" [(ngModel)]="doctor.observacion" name="observacion" />


                <button type="submit">ğŸ’¾ Guardar Doctor</button>
                <button type="button" (click)="limpiarCamposDoctor()">ğŸ§¹ Limpiar</button>
              </form>

              <!-- Mensajes de Ã©xito o error -->
              <div *ngIf="doctorComponent.mensaje && doctorComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ doctorComponent.mensaje }}
              </div>
              <div *ngIf="doctorComponent.error && doctorComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ doctorComponent.error }}
              </div>
            </div>


            <!-- SecciÃ³n: Consultar -->
            <div *ngSwitchCase="'consultar'">
              <h2>ğŸ” Consultar Doctores</h2>

              <!-- Filtros mÃºltiples -->
              <input type="number" placeholder="Buscar por ID de Doctor" [(ngModel)]="filtroIdDoctor"
                name="filtroIdDoctor" />
              <input type="text" placeholder="Buscar por Nombre" [(ngModel)]="filtroNombreDoctor"
                name="filtroNombreDoctor" />
              <input type="text" placeholder="Buscar por Colegiado" [(ngModel)]="filtroColegiadoDoctor"
                name="filtroColegiadoDoctor" />
              <input type="text" placeholder="Buscar por Especialidad" [(ngModel)]="filtroEspecialidadDoctor"
                name="filtroEspecialidadDoctor" />
              <input type="text" placeholder="Buscar por Centro Hospitalario" [(ngModel)]="filtroCentroDoctor"
                name="filtroCentroDoctor" />
              <input type="date" placeholder="Buscar por Fecha" [(ngModel)]="filtroFechaDoctor"
                name="filtroFechaDoctor" />

              <div class="botones-consulta">
                <button (click)="buscarDoctorPorIdDesdeAdmin()">ğŸ” Buscar por ID</button>
                <button (click)="buscarDoctorPorNombre()">ğŸ” Buscar por Nombre</button>
                <button (click)="buscarDoctorPorColegiado()">ğŸ” Buscar por Colegiado</button>
                <button (click)="buscarDoctorPorEspecialidad()">ğŸ” Buscar por Especialidad</button>
                <button (click)="buscarDoctorPorCentro()">ğŸ” Buscar por Centro Hospitalario</button>
                <button (click)="buscarDoctorPorFecha()">ğŸ“… Buscar por Fecha</button>
                <button (click)="consultarDoctoresDesdeAdmin()">ğŸ“‹ Ver Todos</button>
                <button (click)="limpiarConsultaDoctores()">ğŸ§¹ Limpiar</button>
              </div>

              <!-- Tabla de doctores -->
              <table *ngIf="doctoresMostrados.length > 0" class="tabla-citas">
                <thead>
                  <tr>
                    <th>ID Doctor</th>
                    <th>Nombre</th>
                    <th>Colegiado</th>
                    <th>Especialidad</th>
                    <th>DirecciÃ³n</th>
                    <th>Centro Hospitalario</th>
                    <th>Edad</th>
                    <th>Fecha Registro</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let d of doctoresMostrados">
                    <td>{{ d.iddoctor }}</td>
                    <td>{{ d.nombrecompleto }}</td>
                    <td>{{ d.colegiado }}</td>
                    <td>{{ d.especialidad }}</td>
                    <td>{{ d.direccion }}</td>
                    <td>{{ d.centrohospitalario }}</td>
                    <td>{{ d.edad }}</td>
                    <td>{{ d.fecharegistro | date:'dd/MM/yyyy' }}</td>
                  </tr>
                </tbody>
              </table>

              <div *ngIf="doctoresMostrados.length === 0 && doctorComponent.mostrarDoctores" class="mensaje-error">
                âš ï¸ No se encontraron doctores.
              </div>
            </div>


            <div *ngSwitchCase="'eliminar'">
              <h2>âŒ Eliminar Doctor</h2>
              <input type="number" placeholder="ID del doctor a eliminar" [(ngModel)]="filtroIdEliminarDoctor" />
              <div class="botones-consulta">
                <button (click)="eliminarDoctorDesdeAdmin()">ğŸ—‘ï¸ Eliminar</button>
                <button (click)="filtroIdEliminarDoctor = null">ğŸ§¹ Limpiar</button>
              </div>

              <!-- Mensajes -->
              <div *ngIf="doctorComponent.mensaje && doctorComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ doctorComponent.mensaje }}
              </div>
              <div *ngIf="doctorComponent.error && doctorComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ doctorComponent.error }}
              </div>
            </div>


            <div *ngSwitchCase="'restaurar'">
              <h2>â™»ï¸ Restaurar Doctor</h2>
              <input type="number" placeholder="ID del doctor a restaurar" [(ngModel)]="filtroIdRestaurarDoctor" />
              <div class="botones-consulta">
                <button (click)="restaurarDoctorDesdeAdmin()">ğŸ”„ Restaurar</button>
                <button (click)="filtroIdRestaurarDoctor = null">ğŸ§¹ Limpiar</button>
              </div>

              <!-- Mensajes -->
              <div *ngIf="doctorComponent.mensaje && doctorComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ doctorComponent.mensaje }}
              </div>
              <div *ngIf="doctorComponent.error && doctorComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ doctorComponent.error }}
              </div>
            </div>


            <div *ngSwitchCase="'actualizar2'">
              <h2>ğŸ“‹ MenÃº de ActualizaciÃ³n Individual del Doctor</h2>

              <div class="menu-actualizar-formulario">
                <div class="menu-actualizar-opciones">
                  <button class="menu-actualizar-btn" (click)="doctorComponent.campoSeleccionado = 'nombre'">âœï¸
                    Nombre</button>
                  <button class="menu-actualizar-btn" (click)="doctorComponent.campoSeleccionado = 'colegiado'">ğŸ§¾
                    Colegiado</button>
                  <button class="menu-actualizar-btn" (click)="doctorComponent.campoSeleccionado = 'especialidad'">ğŸ“š
                    Especialidad</button>
                  <button class="menu-actualizar-btn" (click)="doctorComponent.campoSeleccionado = 'direccion'">ğŸ¡
                    DirecciÃ³n</button>
                  <button class="menu-actualizar-btn" (click)="doctorComponent.campoSeleccionado = 'centro'">ğŸ¥ Centro
                    Hospitalario</button>
                  <button class="menu-actualizar-btn" (click)="doctorComponent.campoSeleccionado = 'edad'">ğŸ‚
                    Edad</button>
                  <button class="menu-actualizar-btn" (click)="doctorComponent.campoSeleccionado = 'observacion'">ğŸ“
                    ObservaciÃ³n</button>
                </div>

                <!-- Campo: Nombre -->
                <div *ngIf="doctorComponent.campoSeleccionado === 'nombre'">
                  <h3>ID Doctor</h3>
                  <input type="number" [(ngModel)]="doctorComponent.doctorActualizar.iddoctor"
                    placeholder="ID del doctor" />
                  <h3>Nuevo Nombre</h3>
                  <input type="text" [(ngModel)]="doctorComponent.doctorActualizar.nombrecompleto"
                    placeholder="Nuevo nombre completo" />
                  <button (click)="doctorComponent.actualizarNombreDoctor()">Actualizar Nombre</button>
                  <button (click)="doctorComponent.limpiarActualizarDoctor()">Limpiar</button>
                </div>

                <!-- Campo: Colegiado -->
                <div *ngIf="doctorComponent.campoSeleccionado === 'colegiado'">
                  <h3>ID Doctor</h3>
                  <input type="number" [(ngModel)]="doctorComponent.doctorActualizar.iddoctor"
                    placeholder="ID del doctor" />
                  <h3>Nuevo Colegiado</h3>
                  <input type="text" [(ngModel)]="doctorComponent.doctorActualizar.colegiado"
                    placeholder="Nuevo colegiado" />
                  <button (click)="doctorComponent.actualizarColegiadoDoctor()">Actualizar Colegiado</button>
                  <button (click)="doctorComponent.limpiarActualizarDoctor()">Limpiar</button>
                </div>

                <!-- Campo: Especialidad -->
                <div *ngIf="doctorComponent.campoSeleccionado === 'especialidad'">
                  <h3>ID Doctor</h3>
                  <input type="number" [(ngModel)]="doctorComponent.doctorActualizar.iddoctor"
                    placeholder="ID del doctor" />
                  <h3>Nueva Especialidad</h3>
                  <input type="text" [(ngModel)]="doctorComponent.doctorActualizar.especialidad"
                    placeholder="Nueva especialidad" />
                  <button (click)="doctorComponent.actualizarEspecialidadDoctor()">Actualizar Especialidad</button>
                  <button (click)="doctorComponent.limpiarActualizarDoctor()">Limpiar</button>
                </div>

                <!-- Campo: DirecciÃ³n -->
                <div *ngIf="doctorComponent.campoSeleccionado === 'direccion'">
                  <h3>ID Doctor</h3>
                  <input type="number" [(ngModel)]="doctorComponent.doctorActualizar.iddoctor"
                    placeholder="ID del doctor" />
                  <h3>Nueva DirecciÃ³n</h3>
                  <input type="text" [(ngModel)]="doctorComponent.doctorActualizar.direccion"
                    placeholder="Nueva direcciÃ³n" />
                  <button (click)="doctorComponent.actualizarDireccionDoctor()">Actualizar DirecciÃ³n</button>
                  <button (click)="doctorComponent.limpiarActualizarDoctor()">Limpiar</button>
                </div>

                <!-- Campo: Centro Hospitalario -->
                <div *ngIf="doctorComponent.campoSeleccionado === 'centro'">
                  <h3>ID Doctor</h3>
                  <input type="number" [(ngModel)]="doctorComponent.doctorActualizar.iddoctor"
                    placeholder="ID del doctor" />
                  <h3>Nuevo Centro</h3>
                  <input type="text" [(ngModel)]="doctorComponent.doctorActualizar.centrohospitalario"
                    placeholder="Nuevo centro hospitalario" />
                  <button (click)="doctorComponent.actualizarCentroDoctor()">Actualizar Centro</button>
                  <button (click)="doctorComponent.limpiarActualizarDoctor()">Limpiar</button>
                </div>

                <!-- Campo: Edad -->
                <div *ngIf="doctorComponent.campoSeleccionado === 'edad'">
                  <h3>ID Doctor</h3>
                  <input type="number" [(ngModel)]="doctorComponent.doctorActualizar.iddoctor"
                    placeholder="ID del doctor" />
                  <h3>Nueva Edad</h3>
                  <input type="number" [(ngModel)]="doctorComponent.doctorActualizar.edad" placeholder="Nueva edad" />
                  <button (click)="doctorComponent.actualizarEdadDoctor()">Actualizar Edad</button>
                  <button (click)="doctorComponent.limpiarActualizarDoctor()">Limpiar</button>
                </div>

                <!-- Campo: ObservaciÃ³n -->
                <div *ngIf="doctorComponent.campoSeleccionado === 'observacion'">
                  <h3>ID Doctor</h3>
                  <input type="number" [(ngModel)]="doctorComponent.doctorActualizar.iddoctor"
                    placeholder="ID del doctor" />
                  <h3>Nueva ObservaciÃ³n</h3>
                  <input type="text" [(ngModel)]="doctorComponent.doctorActualizar.observacion"
                    placeholder="Nueva observaciÃ³n" />
                  <button (click)="doctorComponent.actualizarObservacionDoctor()">Actualizar ObservaciÃ³n</button>
                  <button (click)="doctorComponent.limpiarActualizarDoctor()">Limpiar</button>
                </div>

                <!-- âœ… Mensajes de Ã©xito o error -->
                <div *ngIf="doctorComponent.mensaje && doctorComponent.mostrarMensaje" class="mensaje-exito fade-out">
                  {{ doctorComponent.mensaje }}
                </div>
                <div *ngIf="doctorComponent.error && doctorComponent.mostrarMensaje" class="mensaje-error fade-out">
                  {{ doctorComponent.error }}
                </div>

              </div>
            </div>


          </ng-container>
        </div>
      </div>


      <!-- MÃ³dulo Login -->
      <div *ngSwitchCase="'login'">
        <h2>ğŸ” mÃ³dulo login - administraciÃ³n de usuarios</h2>

        <div class="barra-citas-horizontal">
          <button class="btn-citas-lateral" (click)="seccionLogin = 'registrar'">ğŸ“„ Registrar usuario</button>
          <button class="btn-citas-lateral" (click)="seccionLogin = 'consultar'">ğŸ“‹ Consultar usuarios</button>
          <button class="btn-citas-lateral" (click)="seccionLogin = 'actualizar'">âœï¸ Cambiar contraseÃ±a</button>
          <button class="btn-citas-lateral" (click)="seccionLogin = 'borrar'">âŒ Borrar usuario</button>
          <button class="btn-citas-lateral" (click)="seccionLogin = 'restaurar'">â™»ï¸ Restaurar usuario</button>
          <button class="btn-citas-lateral" (click)="seccionLogin = 'rol'">âœï¸ Cambiar ROL</button>
        </div>

        <div class="contenedor-citas-vista main-content">
          <ng-container [ngSwitch]="seccionLogin">

            <div *ngSwitchCase="'registrar'">
              <h3>ğŸ“„ Registrar Usuario</h3>

              <form (ngSubmit)="guardarUsuarioDesdeAdmin()" class="formulario-login">
                <input type="text" [(ngModel)]="usuario.username" name="username" placeholder="Nombre de usuario"
                  required />
                <input type="password" [(ngModel)]="usuario.password" name="password" placeholder="ContraseÃ±a"
                  required />

                <!-- SelecciÃ³n de rol -->
                <select [(ngModel)]="usuario.rol" name="rol" required>
                  <option value="" disabled>Seleccione un rol</option>
                  <option value="ADMINISTRADOR">ADMINISTRADOR</option>
                  <option value="RECEPCIONISTA">RECEPCIONISTA</option>
                  <option value="DOCTOR">DOCTOR</option>
                </select>

                <!-- SelecciÃ³n de jwt_secret -->
                <select [(ngModel)]="usuario.jwtSecret" name="jwtSecret" required>
                  <option value="" disabled selected>Seleccione el JWT Secret</option>
                  <option value="jwt_secreto_administrador_123456">Administrador</option>
                  <option value="jwt_secreto_recepcionista_123456">Recepcionista</option>
                  <option value="jwt_secreto_doctormedicina_123456">Doctor</option>
                </select>

                <div class="botones-formulario-login">
                  <button type="submit">âœ… Guardar Usuario</button>
                  <button type="button" (click)="limpiarFormularioUsuario()">ğŸ§¹ Limpiar</button>
                </div>
              </form>

              <div *ngIf="mensajeUsuarioExito" class="mensaje-exito fade-out">{{ mensajeUsuarioExito }}</div>
              <div *ngIf="mensajeUsuarioError" class="mensaje-error fade-out">{{ mensajeUsuarioError }}</div>
            </div>


            <div *ngSwitchCase="'consultar'">
              <h3>ğŸ“‹ Consulta de Usuarios</h3>

              <div class="filtros-usuarios">
                <input type="number" [(ngModel)]="filtroIdUsuario" placeholder="Buscar por ID">
                <input type="text" [(ngModel)]="filtroUsernameUsuario" placeholder="Buscar por Username">
                <select [(ngModel)]="filtroEstadoUsuario">
                  <option value="TODOS">Todos</option>
                  <option value="ACTIVO">Activos</option>
                  <option value="INACTIVO">Inactivos</option>
                </select>
                <button (click)="consultarUsuariosDesdeAdmin()">ğŸ” Buscar</button>
                <button (click)="limpiarConsultaUsuarios()">ğŸ§¹ Limpiar</button>
              </div>

              <table *ngIf="usuariosMostrados.length > 0" class="tabla-usuarios">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Rol</th>
                    <th>Estado</th>
                    <th>Fecha</th>
                    <th>Hora</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let u of usuariosMostrados">
                    <td>{{ u.id }}</td>
                    <td>{{ u.username }}</td>
                    <td>{{ u.rol }}</td>
                    <td>{{ u.estado }}</td>
                    <td>{{ u.fechaCreacion }}</td>
                    <td>{{ u.horaCreacion }}</td>
                  </tr>
                </tbody>
              </table>

              <div *ngIf="usuariosMostrados.length === 0" class="mensaje-error">
                âš ï¸ No hay resultados para mostrar.
              </div>
            </div>


            <!-- SecciÃ³n: Cambiar ContraseÃ±a -->
            <div *ngSwitchCase="'actualizar'">
              <h2>âœï¸ Cambiar ContraseÃ±a de Usuario</h2>

              <form (ngSubmit)="cambiarPasswordDesdeAdmin()">
                <h3>ID Usuario</h3>
                <input type="number" [(ngModel)]="idCambioPassword" name="idCambioPassword" placeholder="ID del Usuario"
                  required />
                <h3>Nueva ContraseÃ±a</h3>
                <input type="password" [(ngModel)]="nuevaPassword" name="nuevaPassword" placeholder="Nueva ContraseÃ±a"
                  required />

                <button type="submit">ğŸ’¾ Cambiar ContraseÃ±a</button>
                <button type="button" (click)="limpiarCambioPassword()">ğŸ§¹ Limpiar</button>
              </form>

              <div *ngIf="mensajeCambioPassword" class="mensaje-exito fade-out">
                {{ mensajeCambioPassword }}
              </div>
            </div>


            <!-- SecciÃ³n: Borrar Usuario -->
            <div *ngSwitchCase="'borrar'">
              <h2>âŒ Desactivar Usuario</h2>

              <h3>ID Usuario</h3>
              <input type="number" placeholder="ID del usuario a desactivar" [(ngModel)]="idDesactivarUsuario" />

              <div class="botones-consulta">
                <button (click)="desactivarUsuarioDesdeAdmin()">âŒ Desactivar</button>
                <button (click)="idDesactivarUsuario = 0">ğŸ§¹ Limpiar</button>
              </div>

              <div *ngIf="mensajeDesactivarUsuario" class="mensaje-exito fade-out">
                {{ mensajeDesactivarUsuario }}
              </div>
            </div>


            <!-- SecciÃ³n: Restaurar Usuario -->
            <div *ngSwitchCase="'restaurar'">
              <h2>â™»ï¸ Restaurar Usuario</h2>

              <h3>ID Usuario</h3>
              <input type="number" placeholder="ID del usuario a restaurar" [(ngModel)]="idRestaurarUsuario" />

              <div class="botones-consulta">
                <button (click)="restaurarUsuarioDesdeAdmin()">â™»ï¸ Restaurar</button>
                <button (click)="idRestaurarUsuario = 0">ğŸ§¹ Limpiar</button>
              </div>

              <div *ngIf="mensajeRestaurarUsuario" class="mensaje-exito fade-out">
                {{ mensajeRestaurarUsuario }}
              </div>
            </div>


            <!-- SecciÃ³n: Cambiar Rol -->
            <div *ngSwitchCase="'rol'">
              <h2>âœï¸ Cambiar Rol y JWT de Usuario</h2>

              <form (ngSubmit)="cambiarRolManual()">
                <h3>ID Usuario</h3>
                <input type="number" [(ngModel)]="idCambioRol" name="idCambioRol" placeholder="ID del Usuario"
                  required />

                <h3>Nuevo Rol</h3>
                <select [(ngModel)]="nuevoRol" name="nuevoRol" required>
                  <option value="" disabled>Seleccione nuevo rol</option>
                  <option value="ADMINISTRADOR">ADMINISTRADOR</option>
                  <option value="RECEPCIONISTA">RECEPCIONISTA</option>
                  <option value="DOCTOR">DOCTOR</option>
                </select>

                <h3>Nuevo JWT Secret</h3>
                <select [(ngModel)]="nuevoJwtSecret" name="nuevoJwtSecret" required>
                  <option value="" disabled>Seleccione nuevo JWT</option>
                  <option value="jwt_secreto_administrador_123456">Administrador</option>
                  <option value="jwt_secreto_recepcionista_123456">Recepcionista</option>
                  <option value="jwt_secreto_doctormedicina_123456">Doctor</option>
                </select>

                <button type="submit">âœ” Cambiar Rol</button>
                <button type="button" (click)="limpiarCambioRol()">ğŸ§¹ Limpiar</button>
              </form>

              <div *ngIf="mensajeCambioRol" class="mensaje-exito fade-out">
                {{ mensajeCambioRol }}
              </div>
            </div>


          </ng-container>
        </div>
      </div>


      <!-- MÃ³dulo Citas Unificado -->
      <div *ngSwitchCase="'citas'">
        <!-- Opciones de Citas -->
        <div class="barra-citas-horizontal">
          <button class="btn-citas-lateral" (click)="seccionCitas = 'crear'">ğŸ“„ Crear Cita</button>
          <button class="btn-citas-lateral" (click)="seccionCitas = 'consultar'">ğŸ” Consultar Citas</button>
          <button class="btn-citas-lateral" (click)="seccionCitas = 'realizada'">âœ… Marcar como
            Realizada</button>
          <button class="btn-citas-lateral" (click)="seccionCitas = 'cancelada'">âŒ Marcar como
            Cancelada</button>
          <button class="btn-citas-lateral" (click)="seccionCitas = 'filtros'">ğŸ“ Historial ClÃ­nico</button>
          <button class="btn-citas-lateral" (click)="seccionCitas = 'actualizar'">ğŸ› ï¸ MenÃº Actualizar</button>
        </div>

        <!-- Contenido de Crear Cita -->
        <div class="contenedor-citas-vista main-content">
          <ng-container [ngSwitch]="seccionCitas">

            <form *ngSwitchCase="'crear'" (ngSubmit)="crearCitaDesdeAdmin()">
              <h2>ğŸ“… Nueva Cita</h2>

              <input type="text" placeholder="Paciente" [(ngModel)]="nuevaCita.nombrecompleto_paciente"
                name="nombrePaciente" />
              <input type="text" placeholder="NIT" [(ngModel)]="nuevaCita.nit" name="nit" />
              <input type="text" placeholder="Doctor" [(ngModel)]="nuevaCita.nombrecompleto_doctor"
                name="nombreDoctor" />
              <input type="text" placeholder="Colegiado" [(ngModel)]="nuevaCita.colegiado" name="colegiado" />
              <input type="datetime-local" [(ngModel)]="nuevaCita.fechacita" name="fechacita" />
              <input type="text" placeholder="Motivo" [(ngModel)]="nuevaCita.motivoconsulta" name="motivo" />
              <input type="email" placeholder="Correo" [(ngModel)]="nuevaCita.correo" name="correo" />
              <button type="submit">ğŸ’¾ Guardar</button>
              <button type="button" (click)="limpiarCamposCita()">ğŸ§¹ Limpiar</button>

            </form>


            <div *ngIf="citasComponent.mensaje && citasComponent.mostrarMensaje" class="mensaje-exito fade-out">
              {{ citasComponent.mensaje }}
            </div>

            <div *ngIf="citasComponent.error && citasComponent.mostrarMensaje" class="mensaje-error fade-out">
              {{ citasComponent.error }}
            </div>

            <div *ngSwitchCase="'consultar'">
              <h2>ğŸ” Consultar Citas</h2>

              <input type="number" placeholder="Buscar por ID de Cita" [(ngModel)]="filtroIdCita" name="filtroIdCita" />
              <input type="date" placeholder="Buscar por Fecha" [(ngModel)]="filtroFecha" name="filtroFecha" />

              <div class="botones-consulta">
                <button (click)="buscarCitaPorId()">ğŸ” Buscar por ID</button>
                <button (click)="buscarCitasPorFecha()">ğŸ“… Buscar por Fecha</button>
                <button (click)="consultarCitasProgramadas()">ğŸ“Œ Ver Programadas</button>
                <button (click)="consultarCitasRealizadas()">âœ… Ver Realizadas</button>
                <button (click)="consultarCitasCanceladas()">âŒ Ver Canceladas</button>
                <button (click)="limpiarConsultaCitas()">ğŸ§¹ Limpiar</button>
              </div>

              <div *ngIf="citasComponent.mensaje && citasComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ citasComponent.mensaje }}
              </div>
              <div *ngIf="citasComponent.error && citasComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ citasComponent.error }}
              </div>

              <table *ngIf="citasMostradas.length > 0" class="tabla-citas">
                <thead>
                  <tr>
                    <th>Id Cita</th>
                    <th>Paciente</th>
                    <th>NIT</th>
                    <th>Doctor</th>
                    <th>Colegiado</th>
                    <th>Fecha</th>
                    <th>Motivo</th>
                    <th>Estado</th>
                    <th>Costo</th>
                    <th>Fin</th>
                    <th>Motivo Cancelacion</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let cita of citasMostradas">


                    <td>{{ cita.idcita }}</td>
                    <td>{{ cita.nombrecompletoPaciente }}</td>
                    <td>{{ cita.nit }}</td>
                    <td>{{ cita.nombrecompletoDoctor }}</td>
                    <td>{{ cita.colegiado }}</td>
                    <td>{{ cita.fechacita | date:'dd/MM/yyyy HH:mm' }}</td>
                    <td>{{ cita.motivoconsulta }}</td>
                    <td>
                      <span [ngClass]="{
                'estado-programada': cita.estado === 'PROGRAMADA',
                'estado-realizada': cita.estado === 'REALIZADA',
                'estado-cancelada': cita.estado === 'CANCELADA'
              }">{{ cita.estado }}</span>
                    </td>

                    <td>{{ cita.costo || '---' }}</td>
                    <td>{{ cita.fechaFin ? (cita.fechaFin | date:'dd/MM/yyyy HH:mm') : '---' }}</td>
                    <td>{{ cita.motivocancelacion || '---'}}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- SecciÃ³n: Marcar como Realizada -->
            <div *ngSwitchCase="'realizada'">
              <h2>âœ… Marcar Cita como Realizada</h2>

              <input type="number" placeholder="ID de la Cita" [(ngModel)]="citasComponent.citaCambioEstado.idcita"
                name="idcita" />

              <input type="number" placeholder="Costo de la Cita" [(ngModel)]="citasComponent.citaCambioEstado.costo"
                name="costo" />

              <input type="date" placeholder="Fecha de FinalizaciÃ³n"
                [(ngModel)]="citasComponent.citaCambioEstado.fecha_fin" name="fechaFin" />

              <div class="botones-consulta">
                <button (click)="marcarCitaRealizadaDesdeAdmin()">âœ” Marcar como Realizada</button>
                <button (click)="limpiarCamposCambioEstado()">ğŸ§¹ Limpiar</button>
              </div>

              <div *ngIf="citasComponent.mensaje && citasComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ citasComponent.mensaje }}
              </div>

              <div *ngIf="citasComponent.error && citasComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ citasComponent.error }}
              </div>
            </div>

            <!-- SecciÃ³n: Marcar como Cancelada -->
            <div *ngSwitchCase="'cancelada'">
              <h2>âŒ Cancelar Cita</h2>

              <input type="number" placeholder="ID de la Cita" [(ngModel)]="citasComponent.citaCambioEstado.idcita"
                name="idcitaCancelada" />

              <input type="date" placeholder="Fecha de CancelaciÃ³n"
                [(ngModel)]="citasComponent.citaCambioEstado.fecha_fin" name="fechaCancelacion" />

              <input type="text" placeholder="Motivo de CancelaciÃ³n"
                [(ngModel)]="citasComponent.citaCambioEstado.motivocancelacion" name="motivoCancelacion" />

              <div class="botones-consulta">
                <button (click)="marcarCitaCanceladaDesdeAdmin()">âŒ Cancelar Cita</button>
                <button (click)="limpiarCamposCambioEstado()">ğŸ§¹ Limpiar</button>
              </div>

              <div *ngIf="citasComponent.mensaje && citasComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ citasComponent.mensaje }}
              </div>

              <div *ngIf="citasComponent.error && citasComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ citasComponent.error }}
              </div>
            </div>

            <!-- SecciÃ³n: Historial ClÃ­nico -->
            <div *ngSwitchCase="'filtros'">
              <h2>ğŸ“ Historial ClÃ­nico - Filtros Avanzados</h2>

              <input type="number" placeholder="Buscar por NIT" [(ngModel)]="filtroNit" name="filtroNit" />
              <div class="filtros-avanzados-botones">
                <button (click)="buscarCitasPorNit()">ğŸ” Buscar por NIT</button>
              </div>

              <input type="text" placeholder="Buscar por Colegiado" [(ngModel)]="filtroColegiado"
                name="filtroColegiado" />
              <div class="filtros-avanzados-botones">
                <button (click)="buscarCitasPorColegiado()">ğŸ“˜ Buscar por Colegiado</button>
              </div>

              <div class="filtros-avanzados-botones">
                <button (click)="resetearFiltrosCitas()">ğŸ§¹ Limpiar</button>
              </div>

              <div *ngIf="citasComponent.mensaje && citasComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ citasComponent.mensaje }}
              </div>
              <div *ngIf="citasComponent.error && citasComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ citasComponent.error }}
              </div>

              <table *ngIf="citasMostradas.length > 0" class="tabla-citas">
                <thead>
                  <tr>
                    <th>Id Cita</th>
                    <th>Paciente</th>
                    <th>NIT</th>
                    <th>Doctor</th>
                    <th>Colegiado</th>
                    <th>Fecha</th>
                    <th>Motivo</th>
                    <th>Estado</th>
                    <th>Costo</th>
                    <th>Fin</th>
                    <th>Motivo CancelaciÃ³n</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let cita of citasMostradas">
                    <td>{{ cita.idcita }}</td>
                    <td>{{ cita.nombrecompletoPaciente }}</td>
                    <td>{{ cita.nit }}</td>
                    <td>{{ cita.nombrecompletoDoctor }}</td>
                    <td>{{ cita.colegiado }}</td>
                    <td>{{ cita.fechacita | date:'dd/MM/yyyy HH:mm' }}</td>
                    <td>{{ cita.motivoconsulta }}</td>
                    <td>
                      <span [ngClass]="{
            'estado-programada': cita.estado === 'PROGRAMADA',
            'estado-realizada': cita.estado === 'REALIZADA',
            'estado-cancelada': cita.estado === 'CANCELADA'
          }">{{ cita.estado }}</span>
                    </td>
                    <td>{{ cita.costo || '---' }}</td>
                    <td>{{ cita.fechaFin ? (cita.fechaFin | date:'dd/MM/yyyy HH:mm') : '---' }}</td>
                    <td>{{ cita.motivocancelacion || '---' }}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- SecciÃ³n: MenÃº Actualizar -->
            <div *ngSwitchCase="'actualizar'">
              <h2>ğŸ› ï¸ MenÃº Actualizar Cita</h2>

              <h3>ID Cita</h3>
              <input type="number" placeholder="ID de la Cita" [(ngModel)]="citasComponent.actualizacionCita.idcita" />
              <button (click)="cargarCitaParaActualizar()">ğŸ“¥ Cargar Datos</button>

              <h3>Nombre del Paciente</h3>
              <input type="text" placeholder="Nombre del Paciente"
                [(ngModel)]="citasComponent.actualizacionCita.nombrecompleto_paciente" />
              <button (click)="actualizarNombrePacienteCita()">âœ” Cambiar</button>

              <h3>Nombre del Doctor</h3>
              <input type="text" placeholder="Nombre del Doctor"
                [(ngModel)]="citasComponent.actualizacionCita.nombrecompleto_doctor" />
              <button (click)="actualizarNombreDoctorCita()">âœ” Cambiar</button>

              <h3>Motivo de Consulta</h3>
              <input type="text" placeholder="Motivo de Consulta"
                [(ngModel)]="citasComponent.actualizacionCita.motivoconsulta" />
              <button (click)="actualizarMotivoConsulta()">âœ” Cambiar</button>

              <div class="botones-consulta">
                <button (click)="limpiarCamposActualizacion()">ğŸ§¹ Limpiar</button>
              </div>

              <div *ngIf="citasComponent.mensaje && citasComponent.mostrarMensaje" class="mensaje-exito fade-out">
                {{ citasComponent.mensaje }}
              </div>
              <div *ngIf="citasComponent.error && citasComponent.mostrarMensaje" class="mensaje-error fade-out">
                {{ citasComponent.error }}
              </div>
            </div>






          </ng-container>


        </div>

        <!-- Contenido de cada secciÃ³n -->
        <div class="contenedor-citas-vista">
          <ng-container [ngSwitch]="seccionCitas">



          </ng-container>
        </div>
      </div>

    </ng-container>
  </div>
</div>
